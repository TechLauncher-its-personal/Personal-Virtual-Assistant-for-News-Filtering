extends layout

block styles
  link(rel='stylesheet', href=Config.ASSET_CDN + '/stylesheets/mturk.css')

block page_name
  - var stdlayout = false;
  = _("Validate")

block content
  div#page-body
    div.sections
      section.divider
        h3= _('Instructions')
        div.container
          div.row
            div.col-xs-12
              p
                | In this task, we will present you 4 sentences generated by a computer and 8
                | paraphrases for each of them.
                |  Then you will be asked to judge if the paraphrases have the same meaning
                | #[b without any context].
                |  Paraphrases that drop any non-obvious information (service/device name, location
                | inforamtion, etc.) should be considered as "different".

              p
                | Note that for each sentence, there are
                | #[b a few paraphrases we know if they have the same meaning or not].
                | If you get more than 2 of those answers wrong, your answer will be
                | #[b rejected automatically].

      section.divider
        h3= _('Examples')
        div.container
          div.row
            div.col-xs-12
              h4 Example 1

              ul
                li Original sentence: "give me articles in the washington post when nba team LA lakers play"
                li Paraphrase: "hmu with articles when lakers play"

              p
                | These two sentences have different meaning because the paraphrase
                |  drops the information that the "article" is from the Washington Post.

              h4 Example 2

              ul
                li Original sentence: "event detected on my security camera when it stops snowing in Palo Alto"
                li Paraphrase: "Incident after snow storm in Palo Alto"

              p
                | These two also have different meaning because without context, it's hard to
                |  understand "incident" means "event detected on my security camera", also in the
                |  original sentence, it doesn't mention anything about "storm".

              h4 Example 3

              ul
                li Original sentence: "when i upload a picture on instagram give me my current location"
                li Paraphrase: "Add my location when i upload to instagram"

              p
                | Still different. Because the original sentence asks for the location but doesn't say
                |  to add the location to Instagram.

      section.divider
        h3= _("Your Turn Now")
        div.container
          div.row
            div.col-xs-12
              form(action='/mturk/validate', method='post', data-toggle='validator')#turking
                input(type='hidden', name='_csrf', value=csrfToken)
                input(type='hidden', name='hit', value=hit)
                input(type='hidden', name='batch', value=batch)
                for s, i in sentences
                  h4= _("Original Sentence %d: %s").format(i+1, s.synthetic)

                  for p, j in s.paraphrases
                    div.row#paraphrase-row
                      div.col-xs-12
                        div.form-group
                          p= _("Paraphrase %d: %s").format(j+1, p.paraphrase)
                          div.radio
                            label
                              input(type='radio',name='validation-' + p.id,required=true,value='same')
                              = _(" same ")
                            | &nbsp;
                            label
                              input(type='radio',name='validation-' + p.id,required=true,value='different')
                              = _(" different ")
                div.form-group#submit-section
                  label(for='worker-id').control-label= _('Worker ID ')
                  input(type='text', name='worker', required=true).form-control#worker-id
                div.form-group
                  button(type='submit').btn.btn-primary#submit= _('Submit')
